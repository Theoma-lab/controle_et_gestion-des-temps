
ğŸ¯ï¸ Objectifs
Mettre en place un process standardisÃ© et automatisÃ© de contrÃ´le des temps pour :

Fiabiliser la saisie et rÃ©duire les erreurs, 
Donner aux managers un tableau de bord automatisÃ© pour contrÃ´le, 
Offrir une vue filtrÃ©e aux collaborateurs pour mieux planifier leurs tÃ¢ches. 

Roadmap

Phase 1 â€“ Cadrage & standardisation

Validation rÃ¨gles mÃ©tier : heures attendues, anomalies, deadline. 
Cartographie collaborateurs â†” managers. 
DÃ©finition structure des donnÃ©es. 
Phase 2 â€“ Mise en place de la base Supabase

CrÃ©ation tables. 
DÃ©finition policies de sÃ©curitÃ© (RLS). 
Tests dâ€™accÃ¨s. 
Phase 3 â€“ Automatisation n8n

DÃ©ploiement sur Render.
Appels API Pennylane (tests).
Calculs automatisÃ©s.
Email managers.
Phase 4 â€“ Tableaux de bord

Dashboard collaborateur (SharePoint).
Dashboard manager (SharePoint).
Design & UX.
Phase 5 â€“ Tests & dÃ©ploiement

Tests sur une Ã©quipe pilote.
Ajustements rÃ¨gles de gestion.
Mise en production.
Phase 6 â€“ AmÃ©lioration continue

Ajout prÃ©visionnel charge.
Historique long terme.
IntÃ©gration future SSO Microsoft.

ğŸ§© Vue dâ€™ensemble de lâ€™architecture

ğŸ—ï¸ Architecture globale
Pennylane (Saisie des temps)
                       |
                       | API (extraction automatisÃ©e)
                       v
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”€â”€â”€â”
        â”‚        n8n (Automatisation)                 â”‚
        â”‚  - Extraction                               â”‚
        â”‚  - Calcul complÃ©tude/anomalies              â”‚
        â”‚  - Push vers base                           â”‚
        â”‚  - Envoi emails managers                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”€â”˜
                       |
                       | API REST sÃ©curisÃ©e
                       v
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚     Supabase (Base de donnÃ©es)                 â”‚
       â”‚ - Timesheets_stats                             â”‚
       â”‚ - Anomalies                                    â”‚
       â”‚ - Users & managers mapping                     â”‚
       â”‚ - Logs dâ€™envoi                                 â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       |
                       | RequÃªtes filtrÃ©es
                       v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”
â”‚ Dashboard Managers             â”‚       â”‚ Dashboard Collaborateursâ”‚
â”‚ SharePoint (HTML/React)        â”‚       â”‚ SharePoint (HTML/React) â”‚
â”‚ - ComplÃ©tude Ã©quipe            â”‚-------â”‚ - Heures saisies        â”‚
â”‚ - Anomalies                    â”‚       â”‚ - Jours manquants       â”‚
â”‚ - Correctifs Ã  faire           â”‚       â”‚ - Aide planification    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”€â”€â”˜


ğŸ“Œ Aucune dÃ©pendance Webflow
ğŸ“Œ Pas de coÃ»t serveur
ğŸ“Œ SÃ©curitÃ© Microsoft 365 native

ğŸ§± DÃ©tails des composants

1. Pennylane â€“ Source de vÃ©ritÃ©

Saisie des temps par les collaborateurs. 
Extraction automatisÃ©e via lâ€™API (durÃ©e, date, projet, collaborateur). 
DÃ©clenchement hebdomadaire pour analyse. 


2. n8n â€“ Orchestrateur dâ€™automatisation (coÃ»t 0â‚¬)
RÃ´le central :

Interroger lâ€™API Pennylane (tous les vendredis par ex.) 
Calculer automatiquement : ComplÃ©tude par collaborateur
Jours manquants
DÃ©passements (ex > 9h/j)
DonnÃ©es manquantes/incohÃ©rentes
Enregistrer les rÃ©sultats dans SupabaseGÃ©nÃ©rer un email rÃ©capitulatif pour chaque manager : â†’ liste des collaborateurs non conformes
â†’ anomalies Ã  traiter
â†’ lien vers le dashboard SharePoint 

Loguer chaque envoi 
Avantages :

Sans code, mais puissance dâ€™un vrai workflow 
Gratuit en version self-hosted 
Monitoring simple 


3. Supabase â€“ Base de donnÃ©es (PostgreSQL gratuit)
Tables principales :

users
Mapping collaborateurs â†” managers 

timesheets_stats
ComplÃ©tude hebdomadaire 

anomalies
Liste des jours/anomalies par collaborateur 

email_logs
Suivi envois & erreurs 
Avantages :

API REST automatique 
SÃ©curitÃ© avancÃ©e (Row Level Security) 
Stockage scalable 
100% compatible front statique (HTML/JS) 


4. Dashboards SharePoint â€“ Interface pour managers et collaborateurs
Deux interfaces distinctes :
ğŸ”µ Dashboard manager (contrÃ´le Ã©quipe)

Taux de complÃ©tude Ã©quipe 
Liste collaborateurs non conformes 
DÃ©tail des anomalies 
Filtre par semaine / collaborateur 
Export possible 
ğŸŸ¢ Dashboard collaborateur (planification personnelle)

Vue de ses propres heures 
Jours incomplets 
DÃ©passements 
Aide Ã  la planification 
Messages automatiques pour corriger avant deadline 
Avantages :

100% sÃ©curisÃ© via Microsoft 
Gratuit 
Accessible sur mobile + desktop 
Mise Ã  jour trÃ¨s simple (un seul fichier HTML Ã  remplacer)

ğŸ” SÃ©curitÃ© & conformitÃ©

âœ”ï¸ Authentification & accÃ¨s

AccÃ¨s strictement rÃ©servÃ© via comptes Microsoft 365 (SharePoint) 
Aucun accÃ¨s public 
SÃ©paration manager vs collaborateur via RLS Supabase 
âœ”ï¸ DonnÃ©es stockÃ©es

Supabase (PostgreSQL) hÃ©bergement europÃ©en possible 
DonnÃ©es limitÃ©es au minimum : Nom collaborateur 
Manager 
Heures saisies / anomalies 
Pas de donnÃ©es de production comptable 
âœ”ï¸ DonnÃ©es sensibles 

Les outils .html existants
Ne transmettent rien cÃ´tÃ© serveur
â†’ stockage local dans le navigateur
â†’ conforme RGPD 
âœ”ï¸ Processus contrÃ´lÃ© & auditable

Logs dans Supabase 
Historique des emails envoyÃ©s 
Workflow n8n versionnÃ© 
ModÃ¨le de donnÃ©es documentÃ©
âœ”ï¸ ConformitÃ© RGPD

Minimisation des donnÃ©es 
Aucun export non sÃ©curisÃ© 
Droits dâ€™accÃ¨s strictement contrÃ´lÃ©s 
Audit possible Ã  tout moment

ğŸ§­ BÃ©nÃ©fices pour THEOMA

ğŸŸ£ BÃ©nÃ©fices opÃ©rationnels

RÃ©duction du temps de contrÃ´le des managers 
RÃ©duction des erreurs de saisie 
DÃ©tection automatique des anomalies 
Une seule vÃ©ritÃ© pour les temps 
ğŸŸ¢ BÃ©nÃ©fices collaborateurs

Connaissance immÃ©diate des oublis / erreurs 
Aide Ã  la planification 
Encouragement Ã  la rÃ©gularitÃ© 
Moins d'aller-retours avec managers 
ğŸŸ¡ BÃ©nÃ©fices direction

DonnÃ©es fiables pour :
âœ“ pilotage activitÃ©
âœ“ staffing et charges
âœ“ organisation RH 

Solution Ã©conomique : 0â‚¬ / an 
Aucun impact sur le site Webflow 
ScalabilitÃ© parfaite (30 â†’ 100 collaborateurs) 
ğŸ”µ BÃ©nÃ©fices IT / sÃ©curitÃ©

Aucun serveur interne requis 
HÃ©bergement sur services fiables (M365, Supabase) 
Architecture maintenable, pÃ©renne, documentÃ©e

ğŸ“¦ CapacitÃ© & Gouvernance du Stockage SharePoint

ğŸ“Œ RÃ´le de SharePoint dans lâ€™architecture
SharePoint nâ€™hÃ©berge pas les donnÃ©es mÃ©tiers.
Il hÃ©berge uniquement :

Les pages HTML/JS (front) 
La documentation 
Ã‰ventuellement fichiers dâ€™aide 
â†’ Les donnÃ©es opÃ©rationnelles sont dans Supabase.
ğŸ“‚ CapacitÃ©

Une page HTML = quelques centaines de Ko
MÃªme 10 dashboards = moins de 5 Mo
â¡ï¸ Impact nÃ©gligeable sur le quota SharePoint
ğŸ—ƒï¸ Gouvernance

AccÃ¨s contrÃ´lÃ© par groupes M365 (Managers / Collaborateurs)
Versionning possible
Page mise Ã  jour simplement via upload dâ€™un fichier
ConformitÃ© audit & accÃ¨s garantie par Microsoft
ğŸ›¡ï¸ SÃ©paration des rÃ´les

SharePoint = couche prÃ©sentation 
Supabase = stockage sÃ©curisÃ© 
n8n = automatisation 
Pennylane = source de vÃ©ritÃ© 
Cette sÃ©paration facilite :

La maintenance 
La sÃ©curitÃ© 
La conformitÃ© 
Et lâ€™Ã©volutivitÃ©
